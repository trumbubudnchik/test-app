<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .question {
            margin-bottom: 20px;
        }
        .options {
            margin-bottom: 10px;
        }
        button {
            margin: 5px;
            padding: 10px;
        }
        .correct {
            background-color: green;
            color: white;
        }
        .incorrect {
            background-color: red;
            color: white;
        }
        .disabled {
            opacity: 0.6;
            pointer-events: none;
        }
        .explanation {
            margin-top: 10px;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
            white-space: pre-line;
        }
        .result-message {
            font-weight: bold;
            text-align: center;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <h1>Тест</h1>
    <div id="name-input">
        <label>Введите фамилию и имя:</label>
        <input type="text" id="full-name">
        <button onclick="startTest()">Начать тест</button>
    </div>

    <div id="greeting" style="margin-top:20px; font-weight:bold;"></div>
    <div id="test-container" style="display:none"></div>
    <div id="results" style="display:none">
        <p>Правильных ответов: <span id="correct-count">0</span></p>
        <p>Неправильных ответов: <span id="incorrect-count">0</span></p>
    </div>

    <script>
        const questions = {
    "1. Что содержит Руководство по качеству ДИЛ?": [
        "описание взаимосвязи требований Oʻz DSt ISO/IEС 17025:2019 и процедур СМК ДИЛ",
        "описание взаимосвязи требований Oʻz DSt ISO/IEС 17065:2015 и процедур СМК ДИЛ",
        "процедуры и инструкции СМК ДИЛ"
    ],
    "2. Как связаны между собой пункты Руководства по качеству ДИЛ и Oʻz DSt ISO/IEС 17025:2019?": [
        "Начиная с 4 раздела нумерация пунктов Руководства по качеству соответствует нумерации пунктов Oʻz DSt ISO/IEС 17025:2019",
        "Каждый пункт Руководства по качеству соответствует нумерации пунктов Oʻz DSt ISO/IEС 17025:2019",
        "Руководство по качеству полностью соответствует Oʻz DSt ISO/IEС 17065:2015"
    ],
    "3. С какими документами СМК ДИЛ взаимосвязано Руководство по качеству ДИЛ?": [
        "Руководство по качеству взаимосвязано со всеми процедурными документами и инструкциями СМК ДИЛ",
        "Руководство по качеству взаимосвязано со всеми процедурными документами и инструкциями СМК ОС ИКТ/СЗИ",
        "Руководство по качеству взаимосвязано с Законом «О кибербезопасности», Законом «О техническом регулировании» и с Законом «О стандартизации»"
    ],
    "4. Где приведены обязательства руководства ДИЛ и ГУП «Центр кибербезопасности» по принятию ответственности за обеспечение беспристрастности?": [
        "В «Политике менеджмента ДИЛ»",
        "В Уставе ГУП «Центр кибербезопасности»",
        "В должностных инструкциях руководства ДИЛ и ГУП «Центр кибербезопасности»"
    ],
    "5. Виды внутренних угроз беспристрастности персонала это:- Материальная заинтересованность персонала или значимых для него лиц;\n- Профессиональная конкуренция;\n- Личная неприязнь;\n- Психологическая несовместимость. ": [
        "Да",
        "Нет",
        "Беспристрастности персонала могут угрожать только заявители и связанные с ними лица, оказывающие давление на персонал лаборатории"
    ],
    "6. Источники угроз беспристрастности персонала ДИЛ могут быть:": [
        "Внешние и внутренние угрозы",
        "Внешние угрозы",
        "Внутренние угрозы"
    ],
    "7. Кто осуществляет идентификацию рисков беспристрастности персонала ДИЛ вследствие внешних угроз?": [
        "каждый сотрудник, участвующий в сертификации по конкретной заявке",
        "начальник ДИЛ",
        "служба внешней охраны ГУП «Центр кибербезопасности»"
    ],
    "8. Кто осуществляет идентификацию рисков беспристрастности персонала ДИЛ вследствие внутренних угроз?": [
        "начальник ДИЛ",
        "каждый сотрудник, участвующий в сертификации по конкретной заявке",
        "отдел кадров"
    ],
    "9. В каком документе установлено, что целью создания ГУП «Центр кибербезопасности» является содействие повышению уровня кибербезопасности государственных организаций и объектов критической информационной инфраструктуры Узбекистана?": [
        "Постановление Президента Республики Узбекистан от 21.11.2018 г. № ПП-4024",
        "Закон Республики Узбекистан «О кибербезопасности» от 15.04.2022 г. № ЗРУ-764",
        "Приказ Председателя Службы государственной безопасности Республики Узбекистан (рег. Минюст. № 3574 от 14.11.2024)"
    ],
    "10. В каком документе установлено, что одной из основных задач ГУП «Центр кибербезопасности» является проведение сертификации СЗИ?": [
        "Постановление Президента Республики Узбекистан от 21.11.2018 г. № ПП-4024",
        "Закон Республики Узбекистан «О кибербезопасности» от 15.04.2022 г. № ЗРУ-764",
        "Приказ Председателя Службы государственной безопасности Республики Узбекистан (рег. Минюст. № 3574 от 14.11.2024)"
    ],
    "11. Какие организации ДИЛ может привлекать к проведению испытаний на субподрядной основе?": [
        "В Области аккредитации ДИЛ не предусматривается привлечение субподрядных организаций",
        "СИЦ ТСТ ООО «UNICON.UZ» Министерства цифровых коммуникаций РУз",
        "Любые указанные заявителем ИЛ, аккредитованные в Узбекистане и имеющие соответствующую Область аккредитации"
    ],
    "12. Где указаны обязанности и полномочия руководства и персонала ДИЛ?": [
        "в должностных инструкциях и «Матрице распределения ответственности»",
        "в должностных инструкциях",
        "в документах СМК ДИЛ"
    ],
    "13. Когда в ДИЛ осуществляется обмен информацией по вопросам повышения качества испытаний?": [
        "Во время совещаний по результатам анализа СМК и внутренней технической учёбы",
        "каждый понедельник после планового совещания руководства ГУП «Центр кибербезопасности»",
        "никогда"
    ],
    "14. Для чего в ДИЛ используется процедура идентификации образцов?": [
        "для исключения возможности их физического перепутывания или неверной ссылки на них в документах",
        "для оказания содействия ОС ИКТ/СЗИ в оформлении Акта отбора и идентификации",
        "в ДИЛ нет такой процедуры"
    ],
    "15. Как каждый сотрудник ДИЛ подтверждает своё ознакомление с его должностной инструкцией, а также с Политикой и процедурами СМК ДИЛ?": [
        "письменно",
        "подтверждение не требуется",
        "электронной цифровой подписью"
    ],
    "16. На каком основании в ДИЛ не проводится мониторинг окружающей среды при проведении испытаний ПО?": [
        "согласно утвержденным стандартам организации Ts 28189200-06:2021, Ts 28189200-07:2021 Ts 28189200-08:2021; Ts 28189200-09:2021",
        "согласно Закону Республики Узбекистан «О техническом регулировании»",
        "согласно Приказу Председателя Службы государственной безопасности Республики Узбекистан (рег. Минюст. № 3574 от 14.11.2024)"
    ],
    "17. Какие записи о состоянии оборудования не ведутся в ДИЛ?": [
        "Записи о калибровке и документация на стандартные образцы",
        "ведутся все записи согласно Oʻz DSt ISO/IEС 17025:2019",
        "ведутся все записи согласно Закону Республики Узбекистан «О техническом регулировании»"
    ],
    "18. Какая требуемая Oʻz DSt ISO/IEС 17025:2019 информация не содержится в установленной в ПД ДИЛ 07 типовой форме Протокола испытаний?": [
        "В связи с отсутствием при испытаниях ПО неопределенности измерений не предусматривается информация о правиле принятия решения",
        "содержание Протокола испытаний соответствует Oʻz DSt ISO/IEС 17025:2019",
        "персональные данные испытателя, являющиеся конфиденциальной информацией"
    ],
    "19. Какой единственный метод мониторинга достоверности результатов испытаний ПО из перечисленных в п. 7.7.1 Oʻz DSt ISO/IEС 17025:2019, применим к деятельности ДИЛ?": [
        "Внутрилабораторные сличения",
        "Статический анализ исходного кода",
        "все методы мониторинга согласно Oʻz DSt ISO/IEС 17025:2019"
    ],
    "20. Какая организация предоставляет ДИЛ услуги по калибровке?": [
        "Калибровка не требуется",
        "Базовая метрологическая служба отрасли коммуникаций",
        "ГУ \"Узбекский национальный институт метрологии\""
    ],
    "21. Что нужно сделать в случае выявления расхождений при внутрилабораторном сличении?": [
        "Принять корректирующие и предупреждающие действия согласно ПД ДИЛ 04.",
        "Аннулировать протокол испытаний",
        "Исключить эти пункты из Протокола испытаний и указать это в разделе «Заключение»"
    ],
    "22. Кто проводит валидацию применяемого ДИЛ программного обеспечения": [
        "В ДИЛ применяется коммерческое программное обеспечение, для которого не требуется валидация",
        "Специально назначаемая комиссия Комитета по беспристрастности ГУП «Центр кибербезопасности»",
        "ГУ \"Узбекский национальный институт метрологии\""
    ],
    "23. Какие расчеты выполняются при проведении испытаний в ДИЛ?": [
        "согласно утвержденным методикам не предусматривается выполнение каких-либо расчётов.",
        "все расчеты выполняются испытательным оборудованием автоматически.",
        "ложно-положительный показатель (False Positive Rate – FPR), ложно-отрицательный показатель (False Negative Rate – FNR), показатель чувствительности (Sensitivity Rate – SNR), показатель селективности (Selectivity Rate – SLR), показатель устойчивости (Reliability Rate – RLR)."
    ],
    "24. По какому варианту оформлена документированная система менеджмента ДИЛ?": [
        "по варианту А (согласно требованиям раздела 8 Oʻz DSt ISO/IEС 17025:2019)",
        "по варианту B (согласно требованиям разделов 4-7 Oʻz DSt ISO 9001)",
        "по варианту C (согласно требованиям международных стандартов ISO 9001 и ISO 27001)"
    ],
    "25. Имеется ли в документации СМК ДИЛ отдельная процедура валидации и верификации?": [
        "Да, ПД ДИЛ 13",
        "Нет, порядок валидации и верификации приведен в Руководстве по качеству",
        "Нет, порядок валидации и верификации приведен в документе «Руководству по валидации и верификации методов» O‘ZAK.R-12 ГУ «Центр аккредитации»"
    ],
    "26. В каком документе установлена цель ДИЛ – обеспечить выполнение требований стандарта Oʻz DSt ISO/IEС 17025:2019?": [
        "В «Политике менеджмента ДИЛ»",
        "В Уставе ГУП «Центр кибербезопасности»",
        "В Руководстве по качеству ДИЛ"
    ],
    "27. Имеется ли в СМК ДИЛ отдельная процедура управления документацией ДИЛ?": [
        "Да, ПД ДИЛ 01",
        "Нет, всё предусмотрено в Руководстве по качеству ДИЛ",
        "Нет, управления документацией выполняется согласно Oʻz DSt ISO/IEС 17025:2019"
    ],
    "28. Имеется ли в СМК ДИЛ отдельная процедура управления записями ДИЛ?": [
        "Да, ПД ДИЛ 02",
        "Да, ПД ДИЛ 01",
        "Нет, управление записями выполняется согласно Oʻz DSt ISO/IEС 17025:2019"
    ],
    "29. В ДИЛ имеется документированная процедура «Менеджмент беспристрастности и рисков»?": [
        "Да, ПД ДИЛ 11",
        "Нет, управление рисками выполняется согласно Oʻz DSt ISO/IEС 17025:2019",
        "Нет, управление рисками выполняется согласно ISO 27001"
    ],
    "30. В ДИЛ имеется документированная процедура с требованиями к содержанию программы внутреннего аудита?": [
        "Да, ПД ДИЛ 03",
        "Нет, ДИЛ руководствуется требованиями  Oʻz DSt ISO/IEС 17025:2019",
        "Нет, ДИЛ руководствуется требованиями  Oʻz DSt ISO 9001 и Oʻz DSt ISO 19011"
    ]
};
 let correctCount = 0;
        let incorrectCount = 0;
        let fullName = '';

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function getRandomQuestions(questions, count) {
            const questionKeys = Object.keys(questions);
            return shuffleArray(questionKeys).slice(0, count);
        }

        function startTest() {
            const nameInput = document.getElementById('full-name').value.trim();
            if (!nameInput) {
                alert('Пожалуйста, введите фамилию и имя');
                return;
            }
            fullName = nameInput;
            document.getElementById('name-input').style.display = 'none';
            document.getElementById('greeting').textContent = `Тест проходит: ${fullName}`;
            document.getElementById('test-container').style.display = 'block';
            loadQuestions();
        }

        function loadQuestions() {
            const container = document.getElementById('test-container');
            container.innerHTML = '';
            const selectedQuestions = getRandomQuestions(questions, 1);

            selectedQuestions.forEach(question => {
                const options = shuffleArray([...questions[question]]);

                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `<p>${question}</p>`;

                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'options';

                options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.onclick = function() {
                        checkAnswer(question, option, this);
                    };
                    optionsDiv.appendChild(button);
                });

                const explanationDiv = document.createElement('div');
                explanationDiv.className = 'explanation';
                explanationDiv.id = `explanation-${question}`;
                explanationDiv.style.display = 'none';

                questionDiv.appendChild(optionsDiv);
                questionDiv.appendChild(explanationDiv);
                container.appendChild(questionDiv);
            });
        }

        function checkAnswer(question, userAnswer, button) {
            const buttons = button.parentNode.querySelectorAll('button');
            const explanationDiv = document.getElementById(`explanation-${question}`);

            buttons.forEach(btn => btn.classList.add('disabled'));

            fetch('https://script.google.com/macros/library/d/1IAJVZ_U8Ci6FiocLrE9hV_93X9dDzTR8K5IVLoxZFHB5MVvmZb5YbxlQ/1', {
                method: 'POST',
                body: JSON.stringify({ question, answer: userAnswer }),
                headers: { 'Content-Type': 'application/json' }
            })
            .then(res => res.json())
            .then(data => {
                buttons.forEach(btn => {
                    if (btn.textContent === userAnswer && !data.correct) {
                        btn.classList.add('incorrect');
                    }
                    if (btn.textContent === userAnswer && data.correct) {
                        btn.classList.add('correct');
                    }
                    if (btn.textContent === data.correctAnswer) {
                        btn.classList.add('correct');
                    }
                });

                explanationDiv.textContent = data.explanation;
                explanationDiv.style.display = 'block';

                if (data.correct) correctCount++;
                else incorrectCount++;

                document.getElementById('correct-count').textContent = correctCount;
                document.getElementById('incorrect-count').textContent = incorrectCount;

                if (correctCount + incorrectCount === 1) showResult();
            });
        }

        function showResult() {
            const resultMessage = document.createElement('div');
            resultMessage.className = 'result-message';
            resultMessage.style.marginTop = '30px';

            if (correctCount > 0.7) {
                resultMessage.textContent = `Тест сдан. Поздравляю, ${fullName}, вы прошли тест!`;
                resultMessage.style.color = 'green';
            } else {
                resultMessage.textContent = `Тест не сдан. ${fullName}, ничего страшного, попробуйте ещё раз!`;
                resultMessage.style.color = 'red';
            }

            document.getElementById('test-container').appendChild(resultMessage);
            document.getElementById('results').style.display = 'block';
        }
    </script>
</body>
</html>
